---
title: "Github ã‚³ãƒŸãƒƒãƒˆæ™‚ã«GPGã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã¨ãã®å¯¾å‡¦æ³•å‚™å¿˜éŒ²(WSL)"
emoji: "ğŸ•Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["git", "gpg"]
published: true
---

## å‚™å¿˜éŒ²

ã“ã®è¨˜äº‹ã¯å€‹äººçš„ã«ä½•åº¦ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šï½¤ãã®ãŸã³ã«ã‚°ã‚°ã£ã¦ã„ãŸã®ã§å‚™å¿˜éŒ²ã¨ã—ã¦æ®‹ã™ã“ã¨ã«ã—ã¾ã—ãŸï½¡

## gpgã‚¨ãƒ©ãƒ¼

```
$ git commit -m 'hogehoge'

error: gpg failed to sign the data
fatal: failed to write commit object
```

ã‚ã‚ŠãŒã¡ãªã‚¨ãƒ©ãƒ¼

## ç¢ºèªã™ã‚‹ã“ã¨

### æœ‰åŠ¹æœŸé™ãƒã‚§ãƒƒã‚¯

```
$ gpg --list-secret-keys --keyid-format LONG                       17:36:27
gpg: checking the trustdb
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
/home/unilorn/.gnupg/pubring.kbx
--------------------------------
sec   rsa3072/AAAAAAAAAAAAAAAAA 2021-04-01 [SC] [expired: 2023-04-01]
      HOGEHOGEHOGEHOGEHOGEHOGEHOGEHOGEHOGEHOGE
uid                 [expired] unilorn <hogehoge@gmail.com>
```

æœ‰åŠ¹æœŸé™åˆ‡ã‚Œã®ãŸã‚å®Ÿæ–½ãŒå‡ºæ¥ãªã„

#### æ›´æ–°

https://docs.github.com/ja/authentication/managing-commit-signature-verification/generating-a-new-gpg-key

æ–°ã—ã„éµã®ä½œæˆ

```
$ gpg --full-gen-key
```

å…¬é–‹éµã‚’Githubã«è¿½åŠ 

```
gpg --armor --export {KEY}
```

![](https://storage.googleapis.com/zenn-user-upload/3e6447f3d89f-20240225.png)

Gitã®è¨­å®šã‚’å¤‰æ›´

```
$ git config --global --edit

[user]
# Please adapt and uncomment the following lines:
        name = UNILORN
        email = hogehoge@gmail.com
        signingkey = key
```


## ãã®ã»ã‹

```
export GPG_TTY=(tty) 
```

